<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promesas</title>
</head>
<body>

    <h1>Promesas</h1>

    <script>

        function cuadradoPromise(value){

            if(typeof value !== "number") return Promise.reject(`Èrror, el valor ${value} no es un número`);

            return new Promise((resolve, reject)=>{

                setTimeout(() => {

                    resolve(

                        {
                        value,
                        result: value*value
                        }
                    
                    )
                    
                }, 0 | Math.random()*100)

            })

        }

        cuadradoPromise(2)
        .then((obj) => {

            console.log("Inicia Promise")
            console.log(`El valor es ${obj.value} y se cuadrado es ${obj.result}`)
            return cuadradoPromise(0)

        })
        .then((obj) => {

        console.log(`El valor es ${obj.value} y se cuadrado es ${obj.result}`)
        return cuadradoPromise(1)

        })
        .then((obj) => {

        console.log(`El valor es ${obj.value} y se cuadrado es ${obj.result}`)
        return cuadradoPromise(2)

        })
        .then((obj) => {

        console.log(`El valor es ${obj.value} y se cuadrado es ${obj.result}`)
        return cuadradoPromise(3)

        })
        .then((obj) => {

        console.log(`El valor es ${obj.value} y se cuadrado es ${obj.result}`)
        return cuadradoPromise(4)

        })
        .then((obj) => {

        console.log(`El valor es ${obj.value} y se cuadrado es ${obj.result}`)
        return cuadradoPromise(5)

        })
        .then((obj) => {

        console.log(`El valor es ${obj.value} y se cuadrado es ${obj.result}`)
        console.log("Fin del Promise xd")

        })
        .catch(err => console.error(err))

    </script>
    
</body>
</html>